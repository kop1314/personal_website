<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Project Template</title>
  <link rel="stylesheet" type="text/css" href="css/project_template.css"/>

  <script src="https://kit.fontawesome.com/c8e4d183c2.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/js/all.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!---<script type="text/javascript" src="js/index.js"></script>--->

</head>
<body>
<!-----top horizontal navigation bar---->
<nav id="top-horizontal-navigation-bar">
  <!----logo------>
  <div class="logo_container">
    <video class="video" muted autoplay loop>
      <source src="video/dark_lightning_thunder.mp4" type="video/mp4">
      <source src="video/dark_lightning_thunder.webm" type="video/webm">
    </video>
    <a href="#" class="logo">Felix</a>
  </div>

  <!--menu-->
  <ul>
    <li><a href="index.html#text-container-1">Home</a></li>
    <li><a href="index.html#about-container-1">About</a></li>
    <li><a href="index.html#skill-container-1">Skills</a></li>
    <li><a href="index.html#projects-container-1" class="active">Projects</a></li>
    <li><a href="index.html#contact-container-1">Contact</a></li>
    <!----<li><a href="#"></a></li>---->
  </ul>
  <!-----------bars------------------->
  <div class="toggle"></div>
</nav>


<div class="project-info-grid">
  <div class="project-info-container">
    <div class="content-left">
      <nav id="vertical-navigation-bar">
        <ul>
          <li><a href="#section-1" class="active">section 1</a></li>
          <li><a href="#section-2">section 2</a></li>
          <li><a href="#section-3">section 3</a></li>
        </ul>

      </nav>
    </div>

    <div class="content-right">
      <div class="project-info-section" id="section-1">1</div>
      <div class="project-info-section" id="section-2">2</div>
      <div class="project-info-section" id="section-3">3</div>
    </div>
  </div>

</div>

<script>
  $(document).ready(function(){
    $(window).scroll(function(){
      highlightVerticalNavItem();
    });

    function highlightVerticalNavItem(){
      var scrollPos = $(window).scrollTop();
      $('.project-info-section').each(function() {
        console.log($(this).attr('id'));
        var offSetTop = $(this).offset().top;
        //var sectionHeight = $(this).clientHeight;
        var offSetHeight = $(this).outerHeight();
        //check if scroll into section view
        //adjust with -55 for fixed navbar
        if((offSetTop - 100) <= scrollPos &&
                scrollPos < offSetTop + offSetHeight - 100){
          /*if((offSetTop - 55) <= scrollPos &&
                  scrollPos < offSetTop + offSetHeight - 55){*/
          //remove active class
          $('.content-left > nav > ul > li > a').each(function() {
            $(this).removeClass("active");
          });
          //add active class
          var id = $(this).attr('id');
          $('a[href="#'+ id +'"]').addClass("active");
          //console.log(id);
        }
      });
    }
  })
</script>

</body>
</html>